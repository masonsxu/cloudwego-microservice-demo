# =============================================================================
# CloudWeGo 微服务基础设施 - 环境变量配置
# =============================================================================
# 本地开发环境基础设施服务配置
#
# 使用说明：
#   1. 复制此文件为 .env：cp .env.dev.example .env
#   2. 根据需要修改配置值（通常默认值即可）
#   3. 使用 podman-compose up -d 启动基础设施服务
#
# 注意：
#   - 开发环境使用弱密码，仅供本地开发使用
#   - 所有端口都映射到 localhost
#   - Go 应用服务请在本地启动调试
# =============================================================================

# =============================================================================
# PostgreSQL 数据库
# =============================================================================
# 数据库用户名（开发环境）
POSTGRES_USER=Admin

# 数据库密码（开发环境弱密码）
POSTGRES_PASSWORD=Admin

# 默认数据库名称
POSTGRES_DB=identity_srv

# 数据库端口映射
POSTGRES_PORT=5432

# =============================================================================
# etcd 服务注册与发现
# =============================================================================
# etcd 端口映射
ETCD_PORT=2379

# =============================================================================
# RustFS 对象存储
# =============================================================================
# RustFS 访问密钥（开发环境）
RUSTFS_ACCESS_KEY=Admin

# RustFS 私钥（开发环境）
RUSTFS_SECRET_KEY=Admin

# 启用 RustFS 控制台
RUSTFS_CONSOLE_ENABLE=true

# RustFS API 端口
RUSTFS_API_PORT=9000

# RustFS 控制台端口
RUSTFS_CONSOLE_PORT=9001

# =============================================================================
# Redis 缓存数据库
# =============================================================================
# Redis 密码（可选，留空表示无密码）
REDIS_PASSWORD=

# Redis 端口映射
REDIS_PORT=6379

# =============================================================================
# 本地调试配置（Go 服务使用）
# =============================================================================
# 以下配置供本地运行的 Go 服务使用，连接到容器化的基础设施

# 数据库连接配置
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=Admin
DB_PASSWORD=Admin
DB_TIMEZONE=Asia/Shanghai
DB_MAX_IDLE_CONNS=10
DB_MAX_OPEN_CONNS=100
DB_CONN_MAX_LIFETIME=3600
DB_CONN_MAX_IDLE_TIME=300

# etcd 连接配置
ETCD_ADDRESS=localhost:2379
ETCD_TIMEOUT=5

# Redis 连接配置
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=  # 如需密码请取消注释

# RustFS 对象存储配置
LOGO_STORAGE_S3_ENDPOINT=http://localhost:9000
LOGO_STORAGE_S3_PUBLIC_ENDPOINT=http://localhost:9000
LOGO_STORAGE_S3_REGION=us-east-1
LOGO_STORAGE_S3_USE_SSL=false
LOGO_STORAGE_USE_PATH_STYLE=true
LOGO_STORAGE_ACCESS_KEY=Admin
LOGO_STORAGE_SECRET_KEY=Admin
LOGO_STORAGE_MAX_FILE_SIZE=10485760
LOGO_STORAGE_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,image/svg+xml

# Jaeger 链路追踪配置
TRACING_ENABLED=true
TRACING_ENDPOINT=localhost:4317
TRACING_SAMPLER_RATIO=1.0

# 日志配置
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout
